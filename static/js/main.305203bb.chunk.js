(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{280:function(e,t,a){e.exports=a(327)},286:function(e,t,a){},327:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),c=(a(285),a(268)),l=a(58),s={typography:{fontFamily:["Comfortaa","cursive"].join(",")},overrides:{MUIDataTable:{paper:{overflowX:"auto"}}}},u=Object(l.a)({},s),m=Object(l.a)({},s,{palette:{type:"dark"}}),d=a(353),h=a(356),v=(a(286),a(70)),f=a(101),p=a.n(f),g=a(171),E=a(258),b=a(259),w=a(269),y=a(270),k=a(260),C=a.n(k),T=a(128),x=a.n(T),R=x.a.create({baseURL:"https://api.covid19api.com"}),A=["f251266458e947ba94e465c731e10a2a","afbacd1a0f8a435e8971084223998783"],S=x.a.create({baseURL:"https://newsapi.org/v2"});S.interceptors.request.use((function(e){var t=Math.floor(Math.random()*A.length),a=A[t];return e.headers.Authorization="Bearer ".concat(a),e}));var D=S,O=a(355),j=a(346),U=a(350),N=a(52),P=function(e){return r.a.createElement(j.a,null,r.a.createElement(U.a,null,r.a.createElement(N.a,{align:"center",className:"text-".concat(e.variant),component:"p"},e.title),r.a.createElement(N.a,{align:"center",className:"text-".concat(e.variant),component:"p"},e.total?e.total.toLocaleString():e.total)))},G=a(351),I=a(352),W=function(e){var t=e.summary,a=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Global Statistics"),a?r.a.createElement(G.a,{container:!0,spacing:1},r.a.createElement(G.a,{item:!0,xs:!0},r.a.createElement(I.a,{variant:"rect",height:100})),r.a.createElement(G.a,{item:!0,xs:!0},r.a.createElement(I.a,{variant:"rect",height:100})),r.a.createElement(G.a,{item:!0,xs:!0},r.a.createElement(I.a,{variant:"rect",height:100})),r.a.createElement(G.a,{item:!0,xs:!0},r.a.createElement(I.a,{variant:"rect",height:100}))):function(){var e=[{variant:"confirmed",title:"CONFIRMED",total:t.TotalConfirmed},{variant:"active",title:"ACTIVE",total:t.TotalActive},{variant:"recovered",title:"RECOVERED",total:t.TotalRecovered},{variant:"deceased",title:"DECEASED",total:t.TotalDeaths}];return r.a.createElement(G.a,{container:!0,spacing:1},e.map((function(e){return r.a.createElement(G.a,{key:e.title,item:!0,xs:6,sm:6,md:!0},r.a.createElement(P,{animation:"wave",variant:e.variant,title:e.title,total:e.total}))})))}())},B=a(261),L=a.n(B),F=function(e){return{style:{textAlign:"right"}}},H=function(e){return e.toLocaleString()},M=[{name:"COUNTRY"},{name:"CONFIRMED",options:{sortDirection:"desc",setCellProps:F,setCellHeaderProps:F,customBodyRender:function(e){return H(e)}}},{name:"ACTIVE",options:{setCellProps:F,setCellHeaderProps:F,customBodyRender:function(e){return H(e)}}},{name:"RECOVERED",options:{setCellProps:F,setCellHeaderProps:F,customBodyRender:function(e){return H(e)}}},{name:"DECEASED",options:{setCellProps:F,setCellHeaderProps:F,customBodyRender:function(e){return H(e)}}}],z={selectableRows:"none",print:!1,download:!1,elevation:2,responsive:"scrollFullHeight"},V=function(e){var t=[];return e&&e.forEach((function(e){t.push([e.Country,e.TotalConfirmed,e.TotalConfirmed-e.TotalRecovered-e.TotalDeaths,e.TotalRecovered,e.TotalDeaths])})),t};function K(e){var t=e.countries,a=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Country-wise Statistics"),a?r.a.createElement(G.a,{container:!0,spacing:1},r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(I.a,{animation:"wave",variant:"rect",height:50})),r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(I.a,{animation:"wave",variant:"rect",height:50})),r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(I.a,{animation:"wave",variant:"rect",height:50}))):r.a.createElement(L.a,{data:V(t),columns:M,options:z}))}var q=a(96),J=a(265),X=a.n(J),Y=a(248),$=a(354),_=a(239),Q=a(266),Z=a.n(Q),ee=a(267),te=a.n(ee),ae=a(165),ne=Object(_.a)((function(e){return{rightContent:{marginLeft:"auto",marginRight:-1},lastUpdatedTitle:Object(q.a)({fontSize:"0.7rem",textTransform:"uppercase",textAlign:"right"},e.breakpoints.down("xs"),{fontSize:"0.6rem"}),lastUpdatedTime:Object(q.a)({fontSize:"0.8rem",textTransform:"uppercase"},e.breakpoints.down("xs"),{fontSize:"0.7rem"})}})),re=function(e){var t="dark"===e.theme?r.a.createElement(Z.a,null):r.a.createElement(te.a,null),a="dark"===e.theme?"default":"dark";return r.a.createElement(ae.a,{onClick:function(){return e.toggleTheme(a)},edge:"start",color:"inherit","aria-label":"theme-toggle"},t)};function oe(e){var t=ne();return r.a.createElement($.a,{position:"sticky",color:"default",elevation:0},r.a.createElement(Y.a,null,r.a.createElement(re,{theme:e.theme,toggleTheme:function(t){e.toggleTheme(t)}}),r.a.createElement(N.a,{component:"h1"},"COVID-19 TRACKER"),e.lastUpdatedAt?r.a.createElement("div",{className:t.rightContent},r.a.createElement(N.a,{className:t.lastUpdatedTitle,component:"h6"},"LAST UPDATED"),r.a.createElement(N.a,{className:t.lastUpdatedTime,component:"h6"},r.a.createElement(X.a,{fromNow:!0},e.lastUpdatedAt))):null))}var ie=a(357);function ce(){return r.a.createElement("div",{style:{textAlign:"center",marginTop:"15px"}},r.a.createElement("p",null,"Developed by ",r.a.createElement(ie.a,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/naganandakk"},"Nagananda K K")))}var le=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={summary:{},countries:[],articles:[],lastUpdatedAt:null,loading:{articles:!0,summary:!0,countries:!0,chartData:!1}},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.fetchGlobalCovidStatsAndRecentNews(),this.refreshDataHandler=setInterval((function(){return e.fetchGlobalCovidStatsAndRecentNews()}),3e5)}},{key:"fetchGlobalCovidStatsAndRecentNews",value:function(){this.fetchGlobalCovidStats(),this.fetchRecentNews()}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshDataHandler)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{theme:this.props.theme,toggleTheme:this.props.toggleTheme,lastUpdatedAt:this.state.lastUpdatedAt}),r.a.createElement(O.a,{maxWidth:"xl"},r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:7},r.a.createElement(W,{loading:this.state.loading.summary,summary:this.state.summary}),r.a.createElement(K,{loading:this.state.loading.countries,countries:this.state.countries})))),r.a.createElement(ce,null))}},{key:"fetchGlobalCovidStats",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.get("/summary");case 3:t=e.sent,this.setState({summary:Object(l.a)({},t.data.Global,{TotalActive:t.data.Global.TotalConfirmed-t.data.Global.TotalRecovered-t.data.Global.TotalDeaths}),countries:t.data.Countries,lastUpdatedAt:t.data.Date,loading:Object(l.a)({},this.state.loading,{summary:!1,countries:!1})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchRecentNews",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.get("/everything",{params:{language:"en",q:'corona covid covid19 "covid 19" "covid-19"',pageSize:5}});case 3:t=e.sent,this.setState({articles:C.a.orderBy(t.data.articles,[function(e){return new Date(e.publishedAt)}],["desc"]),loading:Object(l.a)({},this.state.loading,{articles:!1})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component);function se(){var e=r.a.useState("dark"),t=Object(c.a)(e,2),a=t[0],n=t[1];return r.a.createElement(d.a,{theme:"dark"===a?Object(v.a)(m):Object(v.a)(u)},r.a.createElement(h.a,null),r.a.createElement(le,{theme:a,toggleTheme:function(e){n(e)}}))}var ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/covid-19-tracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/covid-19-tracker","/service-worker.js");ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,t)})).catch((function(){console.log("No internet connection found. Index is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):me(t,e)}))}}()}},[[280,1,2]]]);
//# sourceMappingURL=main.305203bb.chunk.js.map